## 构建 Docker 镜像

```bash
sudo docker build -t maa-api .
```

## 运行 Docker 容器

```bash
sudo docker run -d -p 8002:8002 --name maa-api \
  -v $(pwd):/app \
  --network host \
  -e TZ=Asia/Shanghai \
  maa-api
```

## TODO
1.拆分任务流水线，设置单任务执行超时时间和重试次数

2.重构日志模块，任务运行日志不再写入缓存

3.调整项目结构

![img.png](img.png)

+-------------------+
|     接口层       |
|   (FastAPI / Flask) |
+-------------------+
          |
          v
+-------------------+
|  调度器（核心）   |
|  (TaskScheduler)   |
+-------------------+
          |
          v
+-------------------+
| 任务队列管理（单例）|
|  (TaskPipeline)    |
+-------------------+
          |
          v
+-------------------+
|  任务执行器       |
|  (TaskExecutor)    |
+-------------------+
          |
          v
+-------------------+
|  异步执行器       |
|  (Asst.start())    |
+-------------------+
          |
          v
+-------------------+
|  回调处理器      |
|  (asst_callback)  |
+-------------------+
          |
          v
+-------------------+
|  任务状态更新     |
+-------------------+


4.重写邮件发送提醒模块，精简邮件发送内容

5.修复前端页面相关问题

6.尝试热加载maa和apk相关的更新